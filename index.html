<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#e0f2fe">
    <title>GraphCraft ‚Äî Coordinate Calculator</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="site-header">
            <img src="logo.png" alt="GraphCraft Logo" class="header-logo">
            <img src="name.png" alt="GraphCraft" class="header-title">
        </header>
        <p class="subtitle">Effortlessly transform your data into perfect hand-drawn coordinates</p>

        <!-- Grid Dimensions Section -->
        <section class="card">
            <h2>Grid Dimensions</h2>
            <div class="grid-inputs">
                <div class="input-group">
                    <label for="gridWidth">Width</label>
                    <input type="number" id="gridWidth" value="90" min="1" inputmode="numeric">
                </div>
                <div class="input-group">
                    <label for="gridHeight">Height</label>
                    <input type="number" id="gridHeight" value="55" min="1" inputmode="numeric">
                </div>
                <div class="input-group">
                    <label for="axisInterval">Axis Interval</label>
                    <input type="number" id="axisInterval" value="5" min="1" inputmode="numeric">
                </div>
            </div>
        </section>

        <!-- Data Input Section -->
        <section class="card">
            <h2>Data Input</h2>
            <div class="y-column-controls">
                <span>Y Columns:</span>
                <button id="removeYColBtn" class="btn btn-small btn-danger">‚àí</button>
                <span id="yColumnCount">1</span>
                <button id="addYColBtn" class="btn btn-small btn-primary">+</button>
            </div>
            <div class="table-container">
                <table id="dataTable">
                    <thead>
                        <tr id="tableHeader">
                            <th>#</th>
                            <th>X</th>
                            <th>Y‚ÇÅ</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="dataBody">
                        <!-- Rows will be added dynamically -->
                    </tbody>
                </table>
            </div>
            <div class="button-group">
                <button id="addRowBtn" class="btn btn-primary">+ Add</button>
                <button id="add5RowsBtn" class="btn btn-success">+ 5 Rows</button>
                <button id="clearAllBtn" class="btn btn-danger">Clear</button>
            </div>
        </section>

        <!-- Results Section -->
        <section class="card results-section" id="resultsSection" style="display: none;">
            <h2>Results</h2>
            
            <!-- Scale Info - Highlighted -->
            <div class="scale-highlight">
                <h3>üìè Scale (Write this on your graph)</h3>
                <div class="scale-grid">
                    <div class="scale-item">
                        <span class="label">X-Axis:</span>
                        <span id="xScale" class="value">-</span>
                    </div>
                    <div class="scale-item">
                        <span class="label">Y-Axis:</span>
                        <span id="yScale" class="value">-</span>
                    </div>
                </div>
            </div>

            <!-- Data Range Info -->
            <div class="range-info">
                <h3>Data Range Analysis</h3>
                <div class="range-grid">
                    <div class="range-item">
                        <span class="label">X Range:</span>
                        <span id="xRange" class="value">-</span>
                    </div>
                    <div class="range-item">
                        <span class="label">Y Range:</span>
                        <span id="yRange" class="value">-</span>
                    </div>
                </div>
            </div>

            <!-- Axis Markings Table -->
            <div class="axis-table-container">
                <h3>üìê Axis Markings (Label these on your axes)</h3>
                <div class="axis-tables-wrapper">
                    <div class="axis-table-section">
                        <h4>X-Axis</h4>
                        <table id="xAxisTable">
                            <thead>
                                <tr>
                                    <th>Grid Position</th>
                                    <th>Value</th>
                                </tr>
                            </thead>
                            <tbody id="xAxisBody">
                            </tbody>
                        </table>
                    </div>
                    <div class="axis-table-section">
                        <h4>Y-Axis</h4>
                        <table id="yAxisTable">
                            <thead>
                                <tr>
                                    <th>Grid Position</th>
                                    <th>Value</th>
                                </tr>
                            </thead>
                            <tbody id="yAxisBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Scaled Coordinates Table -->
            <div class="scaled-table-container">
                <h3>Scaled Coordinates (Plot these on your graph paper)</h3>
                <table id="scaledTable">
                    <thead>
                        <tr id="scaledTableHeader">
                            <th>#</th>
                            <th>Original X</th>
                            <th>Original Y‚ÇÅ</th>
                            <th>Grid X</th>
                            <th>Grid Y‚ÇÅ</th>
                        </tr>
                    </thead>
                    <tbody id="scaledBody">
                        <!-- Results will be added dynamically -->
                    </tbody>
                </table>
            </div>

            <!-- Graph Preview -->
            <div class="graph-container">
                <h3>üìà Graph Preview with Regression Line</h3>
                
                <!-- Graph Title Inputs -->
                <div class="graph-title-inputs">
                    <div class="input-group">
                        <label for="graphTitle">Graph Title</label>
                        <input type="text" id="graphTitle" placeholder="Enter graph title">
                    </div>
                    <div class="input-group">
                        <label for="xAxisTitle">X-Axis Title</label>
                        <input type="text" id="xAxisTitle" placeholder="e.g., Time (s)">
                    </div>
                    <div class="input-group">
                        <label for="yAxisTitle">Y-Axis Title</label>
                        <input type="text" id="yAxisTitle" placeholder="e.g., Distance (m)">
                    </div>
                </div>
                
                <div class="regression-info" id="regressionContainer">
                    <div class="regression-item">
                        <span class="regression-label">Y‚ÇÅ:</span>
                        <span class="regression-equation">y = mx + c</span>
                        <span class="regression-label">R¬≤ =</span>
                        <span class="regression-r2">-</span>
                    </div>
                </div>
                <div class="graph-controls">
                    <button id="zoomOutBtn" class="btn btn-small btn-primary">‚ûñ Zoom Out</button>
                    <span id="zoomLevel" class="zoom-level">100%</span>
                    <button id="zoomInBtn" class="btn btn-small btn-primary">‚ûï Zoom In</button>
                    <button id="resetZoomBtn" class="btn btn-small btn-settings">‚Ü∫ Reset</button>
                    <button id="downloadPdfBtn" class="btn btn-small btn-success">üì• Download</button>
                    <button id="sharePdfBtn" class="btn btn-small btn-share">üì§ Share</button>
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeTableCheckbox">
                        <span>Include data table</span>
                    </label>
                </div>
                <div class="canvas-wrapper" id="canvasWrapper">
                    <canvas id="graphCanvas"></canvas>
                </div>
                <p class="graph-hint">üí° Scroll to pan ‚Ä¢ Use buttons to zoom</p>
            </div>
        </section>

        <footer class="site-footer">
            <div class="footer-content">
                <p class="footer-brand">GraphCraft</p>
                <p class="footer-tagline">Making hand-drawn graphs effortless</p>
                <p class="footer-copyright">¬© 2025 GraphCraft. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
